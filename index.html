<!DOCTYPE html>
<html lang="fi">
<head>
    <meta charset="UTF-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title>Wimbledon Vedonlyönti</title>
    <link rel="stylesheet" href="style.css">
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-app-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-auth-compat.js"></script>
    <script src="https://www.gstatic.com/firebasejs/10.7.1/firebase-firestore-compat.js"></script>
</head>
<body>
    <div id="app">
        <!-- Login Page -->
        <div id="loginPage" class="login-page">
            <div class="container">
                <div class="login-container">
                    <div class="card">
                        <div class="card__body">
                            <h1 class="login-title">Wimbledon Vedonlyönti</h1>
                            <p class="login-subtitle">Kirjaudu sisään aloittaaksesi</p>
                            
                            <div class="login-tabs">
                                <button class="tab-btn active" data-tab="email">Sähköposti</button>
                                <button class="tab-btn" data-tab="anonymous">Anonyymi</button>
                            </div>

                            <div id="emailTab" class="tab-content active">
                                <form id="emailLoginForm" class="login-form">
                                    <div class="form-group">
                                        <label for="email" class="form-label">Sähköposti</label>
                                        <input type="email" id="email" class="form-control" required>
                                    </div>
                                    <div class="form-group">
                                        <label for="password" class="form-label">Salasana</label>
                                        <input type="password" id="password" class="form-control" required>
                                    </div>
                                    <button type="submit" class="btn btn--primary btn--full-width">Kirjaudu sisään</button>
                                </form>
                            </div>

                            <div id="anonymousTab" class="tab-content">
                                <div class="form-group">
                                    <label for="displayName" class="form-label">Näyttönimi</label>
                                    <input type="text" id="displayName" class="form-control" placeholder="Syötä nimesi" required>
                                </div>
                                <button id="anonymousLoginBtn" class="btn btn--primary btn--full-width">Kirjaudu anonyymisti</button>
                            </div>

                            <div id="loginError" class="error-message hidden"></div>
                        </div>
                    </div>
                </div>
            </div>
        </div>

        <!-- Main App -->
        <div id="mainApp" class="main-app hidden">
            <header class="app-header">
                <div class="container">
                    <div class="header-content">
                        <h1>Wimbledon Vedonlyönti</h1>
                        <div class="header-actions">
                            <span id="userInfo" class="user-info"></span>
                            <button id="logoutBtn" class="btn btn--outline btn--sm">Kirjaudu ulos</button>
                        </div>
                    </div>
                </div>
            </header>

            <main class="app-main">
                <div class="container">
                    <div class="app-tabs">
                        <button class="app-tab-btn active" data-tab="matches">Ottelut</button>
                        <button id="adminTab" class="app-tab-btn hidden" data-tab="admin">Pelaajien Tulokset</button>
                    </div>

                    <!-- Matches Tab -->
                    <div id="matchesTab" class="tab-content active">
                        <div class="betting-status">
                            <div id="lockStatus" class="lock-status">
                                <span class="status-indicator"></span>
                                <span class="status-text">Ladataan...</span>
                            </div>
                        </div>

                        <div class="matches-grid">
                            <div id="matchesList" class="matches-list">
                                <!-- Matches will be populated by JavaScript -->
                            </div>
                        </div>
                    </div>

                    <!-- Admin Tab -->
                    <div id="adminTab-content" class="tab-content">
                        <div class="admin-panel">
                            <div class="admin-controls">
                                <h2>Admin-paneeli</h2>
                                <div class="lock-control">
                                    <label class="toggle-switch">
                                        <input type="checkbox" id="lockToggle">
                                        <span class="toggle-slider"></span>
                                    </label>
                                    <span class="lock-label">Lukitse vedonlyönti</span>
                                </div>
                            </div>

                            <div class="players-results">
                                <h3>Pelaajien tulokset</h3>
                                <div class="results-table-container">
                                    <table class="results-table">
                                        <thead>
                                            <tr>
                                                <th>Käyttäjä</th>
                                                <th>Valinnat</th>
                                                <th>Aikaleima</th>
                                            </tr>
                                        </thead>
                                        <tbody id="resultsTableBody">
                                            <!-- Results will be populated by JavaScript -->
                                        </tbody>
                                    </table>
                                </div>
                            </div>
                        </div>
                    </div>
                </div>
            </main>
        </div>
    </div>

    <script src="app.js"></script>
</body>
</html>